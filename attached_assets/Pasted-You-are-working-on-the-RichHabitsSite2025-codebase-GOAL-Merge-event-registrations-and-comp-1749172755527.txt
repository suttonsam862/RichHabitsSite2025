You are working on the RichHabitsSite2025 codebase.

**GOAL:** Merge `event_registrations` and `completed_event_registrations` tables into one unified `registrations` table to eliminate data duplication and fix issues with incomplete registration data. This table should handle both pending and completed registration states.

**CONTEXT:**
- Both tables are defined in `shared/schema.ts`. We want one table that includes all relevant fields.
- `completed_event_registrations.originalRegistrationId` is deprecated. We will track all data directly in one row.
- Functions using the old completed table are located in `server/storage.ts`, and possibly in routes like `process-payment`, `approve-registration`, etc.

**TASKS:**
1. In `shared/schema.ts`, rename `event_registrations` to `registrations`. Remove `completed_event_registrations`. The new `registrations` table must include:
   - All previous fields, plus: `payment_verified`, `completed_at`, and a `status` field (e.g., 'pending', 'paid').
   - Use `NULL` instead of "Not provided" where applicable.
   - Foreign keys to `events` and any related tables where needed.
   - Index `event_id`, `email`, and `stripe_payment_intent_id`.

2. In `server/storage.ts`, modify functions:
   - `createCompletedEventRegistration` should now **update** the existing registration (by ID or PaymentIntent ID) with `payment_verified = true` and `status = 'paid'`.
   - Remove any inserts to `completed_event_registrations`.
   - Update any read functions that reference both tables to use only the new unified table.

3. Preserve `event_registration_log.ts` logging behavior. Donâ€™t change any logging code.

4. Update Zod schemas (in `shared/validators.ts`) to match the new structure. Ensure required fields are properly validated. Use `z.string().nonempty()` instead of defaulting to placeholder strings.

5. Do not delete any data. Add a note in comments where a migration script will be needed later to port existing completed registrations into the unified table.

**DO NOT** modify unrelated code. Only update these files unless another change is 100% necessary.

**OUTPUT:**
- Updated definitions for `shared/schema.ts`.
- Modified functions in `server/storage.ts`.
- Updated validation schemas in `shared/validators.ts`.
- Brief explanation of how this improves the registration flow.

When you're done, pause for confirmation before continuing.
